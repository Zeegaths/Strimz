import{l as f,m as j,u as h,r as i,n as w,A as r,Z as b,o as v,c as N,L as k,M as S,b as C,N as P,O as W,K as A,j as e,B as m,I,P as E,T as M}from"./index-5lFW-7Db.js";import{P as g}from"./index-CpVhjY-z.js";const B="/assets/authImage-CX85VxMM.webp",L=(t,l)=>{const{chainId:a}=f(),{walletProvider:s}=j(),o=h();return i.useCallback(async()=>{if(!w(a))return r.error("Wrong network !",{position:"top-right"});if(t===b||!s)return r.error("Please connect your wallet !",{position:"top-right"});const d=await v(s).getSigner(),c=N(d),y=k(l),x=r.loading("Processing...",{position:"top-right"});try{const u=await c.createAccount(y);console.log("transaction: ",u);const p=await u.wait();if(console.log("receipt: ",p),p.status)return r.dismiss(x),o("/user"),r.success("Username created successfully !",{position:"top-right"});r.dismiss(x),r.error("Username creation failed !",{position:"top-right"})}catch(u){r.dismiss(x),o("/signup"),r.error(`${u.message.slice(0,20)}...`,{position:"top-right"})}},[t,l,a,s,o])},U=()=>{const[t,l]=i.useState("");return i.useEffect(()=>{S(C).owner().then(s=>{l(s)}).catch(s=>{console.error(s)})},[]),t},T=()=>{const t=h(),{open:l}=P(),{address:a,isConnected:s}=f(),{walletInfo:o}=W(),n=A(a),d=U(),c=i.useCallback(async()=>{t(s?"/signup":"/")},[s,t]);return i.useEffect(()=>{c()},[c,s]),e.jsx("section",{className:"w-full h-screen flex bg-gray-950",children:e.jsxs("main",{className:"w-full h-full grid lg:grid-cols-3 md:grid-cols-2",children:[e.jsx("aside",{className:"lg:col-span-2 hidden overflow-hidden rounded-e-3xl md:flex w-full h-full",children:e.jsx("img",{src:B,alt:"image",className:"w-full h-full object-cover"})}),e.jsxs("aside",{className:"flex flex-col items-center relative px-10 justify-center",children:[d===a?e.jsxs("section",{className:"w-full flex flex-col gap-3 border border-gray-700 pt-24 pb-12 px-6 rounded-md relative",children:[e.jsxs("div",{className:"w-full flex flex-col mb-2",children:[e.jsx("h1",{className:"text-4xl text-gray-200 font-belanosima",children:"Welcome Back Admin"}),e.jsx("p",{className:"text-gray-400 font-barlow",children:"Login to access your dashboard"})]}),e.jsx("div",{className:"absolute -top-12 left-8 w-28 h-28 overflow-hidden rounded-full border-2 border-gray-700",children:e.jsx("img",{src:"https://github.com/shadcn.png",alt:"avatar",className:"w-full h-full object-cover"})}),e.jsx(m,{type:"submit",className:"text-gray-100 text-sm mt-4 font-barlow px-4 py-2 flex justify-center items-center gap-1 bg-sky-500 hover:bg-emerald-500 ",onClick:()=>t("/admin"),children:e.jsxs("span",{className:"flex items-center",children:["Login",e.jsx(g,{className:"text-xl ml-1"})]})})]}):n!=null&&n.address&&(n==null?void 0:n.address)!==b?e.jsxs("section",{className:"w-full flex flex-col gap-3 border border-gray-700 pt-24 pb-12 px-6 rounded-md relative",children:[e.jsxs("div",{className:"w-full flex flex-col mb-2",children:[e.jsx("h1",{className:"text-4xl text-gray-200 font-belanosima",children:"Welcome Back"}),e.jsx("p",{className:"text-gray-400 font-barlow",children:"Login to access your dashboard"})]}),e.jsx("div",{className:"absolute -top-12 left-8 w-28 h-28 overflow-hidden rounded-full border-2 border-gray-700",children:e.jsx("img",{src:"https://github.com/shadcn.png",alt:"avatar",className:"w-full h-full object-cover"})}),e.jsx(m,{type:"submit",className:"text-gray-100 text-sm mt-4 font-barlow px-4 py-2 flex justify-center items-center gap-1 bg-sky-500 hover:bg-emerald-500 ",onClick:()=>t("/user"),children:e.jsxs("span",{className:"flex items-center",children:["Login",e.jsx(g,{className:"text-xl ml-1"})]})})]}):e.jsx(O,{}),e.jsx(m,{onClick:()=>t("/"),className:"bg-sky-500 text-white rounded-md p-3 hover:bg-sky-600 transition duration-300 focus:outline-none absolute top-8 left-8",children:e.jsx(I,{className:"text-2xl"})}),e.jsx(m,{onClick:()=>l(),className:"text-gray-200 text-sm font-barlow px-4 py-2 flex justify-center items-center gap-1 bg-sky-600 hover:bg-emerald-500 absolute top-8 right-8",children:s&&e.jsx(E,{address:a,icon:o==null?void 0:o.icon})})]})]})})},O=()=>{const[t,l]=i.useState(""),[a,s]=i.useState(!1),{address:o}=f(),n=L(o,t),d=async c=>{if(c.preventDefault(),!t)return r.error("Please enter a username",{position:"top-right"});s(!0),await n(),s(!1),l("")};return e.jsxs("form",{className:"w-full flex flex-col gap-3 border border-gray-700 pt-24 pb-12 px-6 rounded-md relative",onSubmit:d,children:[e.jsxs("div",{className:"w-full flex flex-col mb-2",children:[e.jsx("h1",{className:"text-4xl text-gray-200 font-belanosima",children:"Signup"}),e.jsx("p",{className:"text-gray-400 font-barlow",children:"Enter your name to get started"})]}),e.jsx("div",{className:"absolute -top-12 left-8 w-28 h-28 overflow-hidden rounded-full border-2 border-gray-700",children:e.jsx("img",{src:"https://github.com/shadcn.png",alt:"avatar",className:"w-full h-full object-cover"})}),e.jsx("div",{className:"relative w-full font-barlow",children:e.jsx("input",{type:"text",id:"name",onChange:c=>l(c.target.value),className:"block w-full rounded-md border text-sm px-3 py-2 placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 disabled:cursor-not-allowed disabled:opacity-50 bg-gray-900 border-gray-700 focus-visible:ring-sky-400 font-barlow text-gray-200 h-10",name:"name",placeholder:"Enter your name"})}),e.jsx(m,{type:"submit",className:`text-gray-100 text-sm mt-4 font-barlow px-4 py-2 flex justify-center items-center gap-1 bg-sky-500 hover:bg-emerald-500 ${a?"opacity-50 cursor-not-allowed":""}`,disabled:a,children:a?e.jsxs("span",{className:"flex items-center",children:[e.jsx(M,{className:"animate-spin text-2xl mr-1"}),"Submitting..."]}):e.jsxs("span",{className:"flex items-center",children:["Submit",e.jsx(g,{className:"text-xl ml-1"})]})})]})};export{O as SignupForm,T as default};
