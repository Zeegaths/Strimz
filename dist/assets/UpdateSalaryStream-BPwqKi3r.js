import{l as u,m as j,r as p,n as w,A as s,o as f,h as v,j as e,B as S}from"./index-5lFW-7Db.js";import{D as P,a as D,E as M,b as C,c as W,d as x}from"./dropdown-menu-DUnPNtut.js";import{T as k,a as I,b as y,c as m,d as A,e as i}from"./table-BiTwULl8.js";import{u as R}from"./useGetAllDailyStream-CKG1Je1Z.js";import{u as T}from"./useGetAllMonthlyStream-CQM8bQ6u.js";import"./index-pw5sjdF0.js";const U=()=>{const{chainId:o}=u(),{walletProvider:n}=j();return p.useCallback(async l=>{if(!w(o))return s.error("Wrong network !",{position:"top-right"});const c=await f(n).getSigner(),d=v(c),a=s.loading("Processing...",{position:"top-right"});try{const r=await d.pauseDailyStream(l);console.log("transaction: ",r);const g=await r.wait();if(console.log("receipt: ",g),g.status)return s.dismiss(a),s.success("User salary stream paused successfully !",{position:"top-right"});s.dismiss(a),s.error("Pausing user salary stream failed !",{position:"top-right"})}catch(r){s.dismiss(a),s.error(`${r.message.slice(0,20)}...`,{position:"top-right"})}},[o,n])},E=()=>{const{chainId:o}=u(),{walletProvider:n}=j();return p.useCallback(async l=>{if(!w(o))return s.error("Wrong network !",{position:"top-right"});const c=await f(n).getSigner(),d=v(c),a=s.loading("Processing...",{position:"top-right"});try{const r=await d.pauseMonthlyStream(l);console.log("transaction: ",r);const g=await r.wait();if(console.log("receipt: ",g),g.status)return s.dismiss(a),s.success("User salary stream paused successfully !",{position:"top-right"});s.dismiss(a),s.error("Pausing user salary stream failed !",{position:"top-right"})}catch(r){s.dismiss(a),s.error(`${r.message.slice(0,20)}...`,{position:"top-right"})}},[o,n])},$=()=>{const{chainId:o}=u(),{walletProvider:n}=j();return p.useCallback(async l=>{if(!w(o))return s.error("Wrong network !",{position:"top-right"});const c=await f(n).getSigner(),d=v(c),a=s.loading("Processing...",{position:"top-right"});try{const r=await d.resumeDailyStream(l);console.log("transaction: ",r);const g=await r.wait();if(console.log("receipt: ",g),g.status)return s.dismiss(a),s.success("User salary stream resumed successfully !",{position:"top-right"});s.dismiss(a),s.error("Resuming user salary stream failed !",{position:"top-right"})}catch(r){s.dismiss(a),console.log(r),s.error(`${r.message.slice(0,20)}...`,{position:"top-right"})}},[o,n])},B=()=>{const{chainId:o}=u(),{walletProvider:n}=j();return p.useCallback(async l=>{if(!w(o))return s.error("Wrong network !",{position:"top-right"});const c=await f(n).getSigner(),d=v(c),a=s.loading("Processing...",{position:"top-right"});try{const r=await d.resumeMonthlyStream(l);console.log("transaction: ",r);const g=await r.wait();if(console.log("receipt: ",g),g.status)return s.dismiss(a),s.success("User salary stream resumed successfully !",{position:"top-right"});s.dismiss(a),s.error("Resuming user salary stream failed !",{position:"top-right"})}catch(r){s.dismiss(a),s.error(`${r.message.slice(0,20)}...`,{position:"top-right"})}},[o,n])},q=()=>e.jsxs("main",{className:"w-full h-full flex flex-col gap-4 mt-10 ml-2 pr-2",children:[e.jsxs("div",{className:"w-full flex flex-col gap-2",children:[e.jsx("h1",{className:"md:text-4xl text-2xl text-gray-300 font-belanosima",children:"Update Your Salary Distribution"}),e.jsx("p",{className:"text-gray-400 font-barlow md:text-lg lg:w-[70%] md:w-[80%] w-full",children:"Effortlessly manage your employee salaries with precision and ease using Strimz's Salary Distribution Setup"})]}),e.jsx("section",{className:"w-full flex flex-col gap-3 border border-gray-600 bg-gray-800 py-6 md:px-10 px-6 rounded-md mt-8",children:e.jsx(G,{})})]}),G=()=>{const{address:o}=u(),n=R(),l=p.useMemo(()=>n.filter(t=>t.streamer===o),[o,n]),h=T(),c=p.useMemo(()=>h.filter(t=>t.streamer===o),[o,h]),d=U(),a=E(),r=$(),g=B();let N=1;return e.jsxs(k,{children:[e.jsx(I,{children:e.jsxs(y,{className:"hover:bg-transparent border-gray-600",children:[e.jsx(m,{className:"w-[100px] font-barlow text-gray-200",children:"S/N"}),e.jsx(m,{className:"font-barlow text-gray-200 ",children:"Name"}),e.jsx(m,{className:"font-barlow text-gray-200 ",children:"Recipient"}),e.jsx(m,{className:" font-barlow text-gray-200",children:"Amount"}),e.jsx(m,{className:" font-barlow text-gray-200",children:"Interval"}),e.jsx(m,{className:" font-barlow text-gray-200",children:"Status"}),e.jsx(m,{className:" font-barlow text-gray-200",children:"Action"})]})}),e.jsxs(A,{children:[(l==null?void 0:l.length)===0&&(c==null?void 0:c.length)===0&&e.jsx(y,{className:"hover:bg-gray-400 group border-gray-600 font-barlow",children:e.jsx(i,{colSpan:6,className:"font-medium text-gray-400 group-hover:text-gray-800 text-base text-center",children:"No Data Found"})}),l==null?void 0:l.map((t,b)=>e.jsxs(y,{className:"hover:bg-gray-400 group border-gray-600 font-barlow",children:[e.jsx(i,{className:"font-medium text-gray-400 group-hover:text-gray-800",children:N++}),e.jsx(i,{className:"text-gray-400 group-hover:text-gray-800",children:t.name}),e.jsx(i,{className:"text-gray-400 group-hover:text-gray-800",children:t.recipient}),e.jsx(i,{className:" text-gray-400 group-hover:text-gray-800",children:t.amount}),e.jsx(i,{className:" text-gray-400 group-hover:text-gray-800",children:t.intervalType===1?"Daily":"Monthly"}),e.jsx(i,{className:" text-gray-400 group-hover:text-gray-800",children:t.isactive?"Active":"Inactive"}),e.jsx(i,{className:" text-gray-400 group-hover:text-gray-800",children:e.jsxs(P,{children:[e.jsx(D,{asChild:!0,children:e.jsxs(S,{variant:"ghost",className:"h-8 w-8 p-0",children:[e.jsx("span",{className:"sr-only",children:"Open menu"}),e.jsx(M,{className:"h-4 w-4"})]})}),e.jsxs(C,{align:"end",className:"font-barlow",children:[e.jsx(W,{children:"Actions"}),t.isactive?e.jsx(x,{onClick:()=>d(t.id),children:"Pause Stream"}):e.jsx(x,{onClick:()=>r(t.id),children:"Resume Stream"})]})]})})]},b)),c==null?void 0:c.map((t,b)=>e.jsxs(y,{className:"hover:bg-gray-400 group border-gray-600 font-barlow",children:[e.jsx(i,{className:"font-medium text-gray-400 group-hover:text-gray-800",children:N++}),e.jsx(i,{className:"text-gray-400 group-hover:text-gray-800",children:t.name}),e.jsx(i,{className:"text-gray-400 group-hover:text-gray-800",children:t.recipient}),e.jsx(i,{className:" text-gray-400 group-hover:text-gray-800",children:t.amount}),e.jsx(i,{className:" text-gray-400 group-hover:text-gray-800",children:t.intervalType===1?"Daily":"Monthly"}),e.jsx(i,{className:" text-gray-400 group-hover:text-gray-800",children:t.isactive?"Active":"Inactive"}),e.jsx(i,{className:" text-gray-400 group-hover:text-gray-800",children:e.jsxs(P,{children:[e.jsx(D,{asChild:!0,children:e.jsxs(S,{variant:"ghost",className:"h-8 w-8 p-0",children:[e.jsx("span",{className:"sr-only",children:"Open menu"}),e.jsx(M,{className:"h-4 w-4"})]})}),e.jsxs(C,{align:"end",className:"font-barlow",children:[e.jsx(W,{children:"Actions"}),t.isactive?e.jsx(x,{onClick:()=>a(t.id),children:"Pause Stream"}):e.jsx(x,{onClick:()=>g(t.id),children:"Resume Stream"})]})]})})]},b))]})]})};export{q as default};
